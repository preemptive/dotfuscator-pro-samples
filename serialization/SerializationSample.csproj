<Project>

  <!-- Import SDK properties (before any existing tags) -->
  <Import Project="Sdk.props" Sdk="Microsoft.NET.Sdk" />
	
  <PropertyGroup>
    <OutputType>Exe</OutputType>
    <TargetFramework>net6.0</TargetFramework>
    <ImplicitUsings>enable</ImplicitUsings>
    <Nullable>enable</Nullable>
	<AssemblyName>Serialization</AssemblyName>  
	<StartupObject>Samples.Serialization</StartupObject>
  </PropertyGroup>

  <!-- Import SDK targets (after any existing tags but before Dotfuscator targets) -->
  <Import Project="Sdk.targets" Sdk="Microsoft.NET.Sdk" />

  <!-- Set build properties for Dotfuscator -->
  <PropertyGroup>
    <!-- Set DotfuscatorConfigPath to an existing config file (serialization_config.xml) -->
    <DotfuscatorConfigPath>$(MSBuildProjectDirectory)\serialization_config.xml</DotfuscatorConfigPath>

    <!-- Set the location of the Dotfuscator MSBuild targets to import -->
    <!-- Defaults to install location, but can be overridden when calling MSBuild -->
    <DotfuscatorMSBuildDir Condition="'$(DotfuscatorMSBuildDir)' == ''">$(MSBuildExtensionsPath)\PreEmptive\Dotfuscator\6</DotfuscatorMSBuildDir>

    <!-- Generate a default Dotfuscator config file (DotfuscatorConfig.xml) -->
    <!-- TODO: Set this to false after the file is generated by the first local build -->
    <DotfuscatorGenerateConfigFileIfMissing>false</DotfuscatorGenerateConfigFileIfMissing>

    <!-- Enable Dotfuscator for Release builds -->
    <DotfuscatorEnabled Condition="'$(Configuration)' == 'Release'">true</DotfuscatorEnabled>

  </PropertyGroup>

  <!-- Import the Dotfuscator MSBuild targets last -->
  <Import Project="$(DotfuscatorMSBuildDir)\PreEmptive.Dotfuscator.Common.targets" />
	
</Project>
